# =================================================================
# 历史故事生成器 - API配置模板
# 复制此文件为 .env 并填入你的API密钥
# 
# 🚀 快速开始:
# 1. 复制此文件: cp .env.example .env
# 2. 填入API密钥 (至少配置 OPENROUTER_API_KEY)
# 3. 运行配置工具: python configure_apis.py
# 4. 开始使用: python run.py
# =================================================================

# =================================================================
# 🚀 主力LLM配置 - OpenRouter多模型支持
# =================================================================

# OpenRouter主配置 - 支持多个免费和低价模型
# 获取密钥: https://openrouter.ai/keys
# 推荐免费模型: qwen/qwen3-coder:free, deepseek/deepseek-r1-0528:free
# 推荐低价模型: google/gemini-2.0-flash-001, x-ai/grok-3-mini
OPENROUTER_API_KEY=your_openrouter_api_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1

# OpenRouter 免费模型配置（2025年1月最新）
OPENROUTER_FREE_1=qwen/qwen3-coder:free
OPENROUTER_FREE_2=mistralai/mistral-small-3.2-24b-instruct:free  
OPENROUTER_FREE_3=deepseek/deepseek-r1-0528:free
OPENROUTER_FREE_4=meta-llama/llama-3.1-405b-instruct:free

# OpenRouter 超低价高性能模型
OPENROUTER_LOW_COST_1=google/gemini-2.0-flash-001
OPENROUTER_LOW_COST_2=x-ai/grok-3-mini
OPENROUTER_LOW_COST_3=deepseek/deepseek-r1-0528-qwen3-8b
OPENROUTER_LOW_COST_4=deepseek/deepseek-r1-distill-llama-70b

# OpenRouter 顶级模型（付费但效果最佳）
OPENROUTER_PREMIUM_1=google/gemini-2.5-flash
OPENROUTER_PREMIUM_2=openai/gpt-4o
OPENROUTER_PREMIUM_3=anthropic/claude-3.5-sonnet-20241022
OPENROUTER_PREMIUM_4=google/gemini-2.0-flash-exp

# =================================================================
# 🔄 备用LLM配置 - 多提供商容错
# =================================================================

# OpenAI配置 - 主要备用
# 获取密钥: https://platform.openai.com/api-keys
# 或使用第三方代理服务 (如 GPTsAPI.net)
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4o-mini

# DeepSeek配置 - 性价比备用 (中文内容优秀)
# 获取密钥: https://platform.deepseek.com/api-keys
# 推荐模型: deepseek-chat (便宜且效果好)
DEEPSEEK_API_KEY=your_deepseek_api_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# 千问配置 - 阿里云备用 (中文优化)
# 获取密钥: https://dashscope.console.aliyun.com/
# 推荐模型: qwen-turbo, qwen-plus, qwen-max
QWEN_API_KEY=your_qwen_api_key_here
QWEN_BASE_URL=https://dashscope.aliyuncs.com/compatible-mode/v1
QWEN_MODEL=qwen-turbo

# =================================================================
# 🎨 图像生成API配置
# =================================================================

# 🚀 Gemini 2.5 Flash Image Preview - 主力图像生成（推荐）
# 获取密钥: 使用已配置的 OPENROUTER_API_KEY
# 特点: Google最新文生图模型，对话式生成，角色一致性，精确编辑
# 定价: $0.03/图像，支持免费版本
# 模型: google/gemini-2.5-flash-image-preview
GEMINI_IMAGE_MODEL=google/gemini-2.5-flash-image-preview
GEMINI_IMAGE_MODEL_FREE=google/gemini-2.5-flash-image-preview:free

# RunningHub - 图像生成备用1（原工作流对应）
# 获取密钥: https://runninghub.cn
# 特点: 中文支持好，价格便宜，多种模型
RUNNINGHUB_API_KEY=your_runninghub_api_key_here
RUNNINGHUB_BASE_URL=https://api.runninghub.cn/v1

# Stability AI - 图像生成备用2
# 获取密钥: https://platform.stability.ai/account/keys
# 特点: 开源模型，质量稳定，SDXL/SD3支持
STABILITY_API_KEY=your_stability_api_key_here
STABILITY_BASE_URL=https://api.stability.ai/v1

# 其他图像生成选项
# MIDJOURNEY_API_KEY=your_midjourney_api_key_here  # 通过第三方
# LEONARDO_API_KEY=your_leonardo_api_key_here      # Leonardo.ai

# =================================================================
# 🔊 音频合成API配置  
# =================================================================

# Azure TTS - 企业级音频合成（原工作流对应）
# 获取密钥: https://portal.azure.com -> 认知服务 -> 语音
# 特点: 悬疑解说音色，多语言支持，企业级稳定
AZURE_API_KEY=your_azure_api_key_here
AZURE_REGION=eastus
AZURE_BASE_URL=https://eastus.api.cognitive.microsoft.com

# ElevenLabs - 高质量音频备用（英语优秀）
# 获取密钥: https://elevenlabs.io/speech-synthesis
# 特点: 英语语音质量最佳，情感表达丰富
ELEVENLABS_API_KEY=your_elevenlabs_api_key_here
ELEVENLABS_BASE_URL=https://api.elevenlabs.io/v1

# MiniMax TTS - 高质量中文TTS（推荐）
# 获取密钥: https://www.minimaxi.com/platform
# 特点: 中文音质优秀，天美精品音色，价格合理
MINIMAX_API_KEY=your_minimax_api_key_here
MINIMAX_BASE_URL=https://api.minimaxi.com/v1/text_to_speech
MINIMAX_VOICE_ID=female-tianmei-jingpin
MINIMAX_SPEED=1.0

# Edge TTS - 免费TTS备用（本地调用）
# 特点: 完全免费，Microsoft系统集成，质量中等
TTS_ENGINE=minimax
TTS_VOICE=zh-CN-XiaoyiNeural
TTS_RATE=+0%
TTS_PITCH=+0Hz

# 其他TTS选项
# BAIDU_TTS_API_KEY=your_baidu_api_key_here        # 百度语音
# TENCENT_TTS_API_KEY=your_tencent_api_key_here    # 腾讯云语音
# XFYUN_TTS_API_KEY=your_xfyun_api_key_here        # 科大讯飞

# =================================================================
# ⚙️ 系统配置优化
# =================================================================

# HTTP请求配置
HTTPX_TIMEOUT=300
REQUEST_RETRY_COUNT=3
REQUEST_RETRY_DELAY=2

# 缓存配置优化
CACHE_TTL_HOURS=168
CACHE_MAX_SIZE_MB=4096

# 并发配置（根据你的系统资源调整）
MAX_CONCURRENT_TASKS=6
MAX_API_CONCURRENT=4

# 日志级别
LOG_LEVEL=INFO
ENABLE_DEBUG=false

# =================================================================
# 🌍 多语言配置
# =================================================================
DEFAULT_LANGUAGE=zh
SUPPORTED_LANGUAGES=zh,en,es

# =================================================================
# 🎬 媒体处理配置
# =================================================================
FFMPEG_PATH=ffmpeg
OUTPUT_VIDEO_QUALITY=high
ENABLE_GPU_ACCELERATION=false

# =================================================================
# 💡 API获取指南和成本估算
# =================================================================

# 🆓 免费方案推荐 (每月基本免费使用):
# 1. OPENROUTER_API_KEY: 使用免费模型 qwen/qwen3-coder:free
# 2. GEMINI_IMAGE_MODEL_FREE: google/gemini-2.5-flash-image-preview:free
# 3. MINIMAX_API_KEY: 提供一定免费额度
# 4. Edge TTS: 完全免费，本地调用
# 成本估算: 基本免费，每月生成50-100个故事

# 💰 性价比方案 (低成本高质量) - ⭐ 推荐:
# 1. OPENROUTER_API_KEY: google/gemini-2.0-flash-001 (~$0.075/1M tokens)
# 2. GEMINI_IMAGE_MODEL: google/gemini-2.5-flash-image-preview (~$0.03/图像)
# 3. DEEPSEEK_API_KEY: deepseek-chat (~$0.14/1M tokens, 中文优秀)
# 4. MINIMAX_API_KEY: 中文TTS (~$0.015/1K chars)
# 成本估算: 单个故事 < ¥1.5, 质量显著提升

# 💎 高端方案 (最佳效果):
# 1. OPENROUTER_API_KEY: google/gemini-2.5-flash
# 2. GEMINI_IMAGE_MODEL: google/gemini-2.5-flash-image-preview (对话式生成)
# 3. AZURE_API_KEY: 企业级TTS (原工作流音色)
# 4. ELEVENLABS_API_KEY: 顶级英语语音
# 成本估算: 单个故事 ¥3-6, 商业级质量

# =================================================================
# 🔧 快速配置步骤
# =================================================================

# 步骤1: 复制配置文件
# cp .env.example .env

# 步骤2: 至少配置一个LLM API (推荐OpenRouter)
# 编辑 .env 文件，填入 OPENROUTER_API_KEY

# 步骤3: 运行配置优化工具
# python configure_apis.py

# 步骤4: 验证配置
# python validate_setup.py

# 步骤5: 开始使用
# python run.py

# =================================================================
# 📊 推荐配置组合
# =================================================================

# 🎯 入门组合 (免费体验):
# OPENROUTER_API_KEY + 免费模型
# - 适合: 学习、测试、小量使用
# - 成本: 基本免费

# 🚀 标准组合 (生产推荐) - ⭐ 最佳性价比:
# OPENROUTER_API_KEY + GEMINI_IMAGE_MODEL + MINIMAX_API_KEY
# - 适合: 日常生产、中小企业、个人创作者
# - 特色: Google最新图像生成 + 高质量中文TTS
# - 成本: 单个故事 ¥1-2，质量优秀

# 💼 企业组合 (商业使用):
# OPENROUTER_API_KEY + GEMINI_IMAGE_MODEL + AZURE_API_KEY + ELEVENLABS_API_KEY
# - 适合: 大规模生产、商业项目、品牌内容
# - 特色: 对话式图像生成 + 企业级音频
# - 成本: 单个故事 ¥3-6，商业级质量

# 🔄 容错组合 (高可靠):
# OPENROUTER_API_KEY + OPENAI_API_KEY + DEEPSEEK_API_KEY + QWEN_API_KEY
# - 适合: 7x24小时服务、高可靠要求
# - 特点: 多提供商自动切换，几乎不会中断

# =================================================================
# ⚠️ 重要提醒
# =================================================================

# 1. 🔒 安全提醒:
#    - 不要将 .env 文件提交到 Git
#    - 定期轮换 API 密钥
#    - 设置 API 使用限额

# 2. 💸 成本控制:
#    - 启用缓存减少重复调用 (CACHE_TTL_HOURS=168)
#    - 使用免费模型进行测试
#    - 监控 API 使用量

# 3. 🌟 性能优化:
#    - 根据系统配置调整 MAX_CONCURRENT_TASKS
#    - 使用多个 API 提供商提高并发
#    - 定期运行 python optimize.py

# 4. 🌍 多语言使用:
#    - 中文内容: 推荐 DeepSeek/Qwen + MiniMax TTS
#    - 英文内容: 推荐 OpenRouter + ElevenLabs TTS
#    - 西班牙语: 推荐 OpenRouter + Azure TTS

# =================================================================